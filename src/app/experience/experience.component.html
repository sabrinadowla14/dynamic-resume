<div class="container my-4">
  <h3 class="text-center mb-4">Experience</h3>
  <div class="text-center my-3">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="maroon"
      class="bi bi-hand-index-thumb me-2"
      viewBox="0 0 16 16"
    >
      <path
        d="M6.75 1a.75.75 0 0 0-1.5 0v6.688l-.292-.292a1 1 0 0 0-1.416 1.416l2.708 2.708v3.23a.75.75 0 0 0 1.5 0v-3.23l.708-.707L13.293 5.5a1 1 0 0 0-1.416-1.416L9 6.96V1.75A.75.75 0 0 0 8.25 1h-1.5Z"
      />
    </svg>
    <span class="fw-semibold" style="color: black">
      Click on a company name to view more details in a popup.
    </span>
  </div>

  <div class="row" *ngIf="experiences().length > 0; else noExperience">
    <div class="col-md-6 mb-4" *ngFor="let exp of experiences()">
      <div class="card h-100">
        <div class="card-body">
          <h5
            class="card-title"
            style="color: rgba(98, 95, 95, 0.822)"
            role="button"
            (click)="openModal(exp)"
          >
            {{ exp.company_name }}
          </h5>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noExperience>
    <p class="text-center">No experience records found.</p>
  </ng-template>

  <!-- Modal -->
  <div
    class="modal fade"
    id="experienceModal"
    tabindex="-1"
    aria-labelledby="experienceModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="experienceModalLabel">
            {{ selectedExperience()?.company_name }}
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <p>{{ selectedExperience()?.job_description }}</p>
          <p><strong>Skills:</strong> {{ selectedExperience()?.skills }}</p>
          <p>
            <strong>Duration:</strong>
            {{ selectedExperience()?.start_date | date : "MMMM yyyy" }} -
            {{ selectedExperience()?.end_date | date : "MMMM yyyy" }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="text-center mt-4">
  <button class="btn btn-outline-primary" [routerLink]="['/skills-graph']">
    Graphical View of Skills
  </button>
</div>
<footer class="text-center mt-5">
  <small>
    Built with <strong>Angular 17</strong>, upgraded to
    <strong>Angular 18</strong> (planned)
  </small>
</footer>
